{{#template name="tutorials.socially.angular1.step_02.md"}}
{{> downloadPreviousStep stepName="step_01"}}

Сделаем теперь наше веб-приложение динамическим с помощью Angular 1.

Этот шаг сфокусирован на клиенте с Angular 1 инструментами. Далее мы покажем силу Meteor.

# Отображение и шаблон

В Angular 1 отображение - это проекция модели через шаблон HTML. Это значит, что когда бы не менялась модель, Angular 1 обновляет соответствующие связывающие точки, которые обновляют отображение.

Давайте сделаем наш шаблон динамическим:

{{> DiffBox tutorialName="meteor-angular1-socially" step="2.1"}}

Мы заменим список вечеринок на директиву [ngRepeat](https://docs.angularjs.org/api/ng/directive/ngRepeat) и два выражения Angular 1:

* Аттрибут `ng-repeat="party in parties"` в теге `li` - это директива Angular 1 повторителя, который говорит Angular 1 создать элемент `li` для каждой вечеринки в списке используя тег `li` как шаблон.
* Выражения обёрнутые в двойные фигурные скобки ( `{{dstache}}party.name}}` и `{{dstache}}party.description}}` ) будут заменены значениями выражений.

Мы добавили новую директиву, называемую `ng-controller`, которая приклрепляет контроллер `PartiesListCtrl` к тегу `div`. Здесь *выражения в двойных фигурных кавчычках обращаются к нашей модели приложения, которая устанавленна в нашем контроллере `PartiesListCtrl`.*


# Модель и контроллер

Для создания нашего контроллера и модели мы начнём с контроллера `PartiesListCtrl` и разместим в нём данные.

{{> DiffBox tutorialName="meteor-angular1-socially" step="2.2"}}

Мы описали контроллер с названием `PartiesListCtrl` и зарегистрировали его в модули приложения Angular 1 - `socially`.

Модель данных теперь инстанцирован всередине контроллера `PartiesListCtrl`.

Также контроллер пока ещё не совсем хорошо работает, он играет решающую роль. Обеспечивая контекст для нашей модели данных, контроллер позволяет нам установить связывание данными между моделью и отображением. Мы соединяем точки между представлением, данными и логическими компонентами следующим образом:

* Директива ngController, размещённая в теге `div`, ссылается на имя нашего контроллера `PartiesListCtrl` (размещённого в файле JavaScript `app.js`).
* Контроллер `PartiesListCtrl` прирепляет частично данные к `$scope`, который иньектируется в функцию нашего контроллера. Контроллерский scope доступен ко всем связям размещённым всередине тега `div ng-controller="PartiesListCtrl">`.

# ng-annotate и .ng.js

Как вы можете видеть, когда мы описали контроллер, мы использовали строки для [аннотаций зависимости](https://docs.angularjs.org/guide/di#dependency-annotation) которая убирает проблемы минификации:

    angular.module('socially').controller('PartiesListCtrl', ['$scope',
      function($scope){
        // ...
    }]);

Существует очень популярный Angular 1 инструмент [ng-annotate](https://github.com/olov/ng-annotate), который заботися об этом всём, поэтому мы можем писать обычный код, который затем минифицируется.

meteor-angular1-socially делает это автоматически. Всё, что нужно - это сменить названия файлов с `.js` на `.ng.js`

Давайте поменяем `app.js` на `app.ng.js` и сменим использование в нашем контроллере:

{{> DiffBox tutorialName="meteor-angular1-socially" step="2.4"}}

И отныне каждый файл Angular 1, который мы будем создавать будет использовать расширение `ng.js`!

# Итоги

Теперь у вас есть динамическое приложение с отдельными компонентами - модель, отображение и контроллер.

Но это всё клиент, что отлично для уроков, но в реальном приложении нам нужно сохранять данные на сервере и синхронизировать все клиенты с ним. 

Перейдите к [шагу 3](/tutorial/step_03), чтобы изучить как связать наше приложение с великой мощью Meteor.

{{/template}}
