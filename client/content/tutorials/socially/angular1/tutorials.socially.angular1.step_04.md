{{#template name="tutorials.socially.angular1.step_04.md"}}
{{> downloadPreviousStep stepName="step_03"}}

Теперь у нас есть полное связывание данных от сервера к клиенту, давайте настроим взаимодействие с данными и увидим как осуществляются обновления.

В этой главе вы добавите возможность вставлять новую вечеринку и удалять существующую через UI.

Во-первых создадим простую форму с кнопкой, которая будет добавлять новую вечеринку, мы добавим её сверху списка, всередине контейнера контроллера "PartiesListCtrl".

{{> DiffBox tutorialName="angular-meteor" step="4.1"}}

Теперь добавим функционала к этой форме.

## ng-model

Свяжем значения инпутов в новую переменную вечеринки.

Чтобы сделать это воспользуемся простой и мощной директивой [ng-model](https://docs.angularjs.org/api/ng/directive/ngModel) Angular 1.

Добавим `ng-model` к форме так:

{{> DiffBox tutorialName="angular-meteor" step="4.2"}}

Теперь каждый раз когда пользователь вводит эти инпуты, значение newParty переменной будет автоматически обновлятс. И напротив, если `$scope.newParty` меняется вне HTML, значения инпутов будут обновляться соответственно.

## ng-click

Свяжем событие нажатия кнопки добавить с директивой Angular 1 [ng-click](https://docs.angularjs.org/api/ng/directive/ngClick).

{{> DiffBox tutorialName="angular-meteor" step="4.3"}}

`ng-click` связывает событие нажатия с выражением.
Таким образом мы берём массив области видимости вечериной(когда обращаемся к переменным области видимости в HTML, нет нужды добавлять $scope. перед ними) и делать push переменной newParty в неё.

Откроем другой браузер, нажмём кнопку и увидим как добавиться вечеринка на обеих клиентах. Так просто!


Добавим возможность удаления вечеринок.

Добавим к каждой вечеринке кнопку Х:

{{> DiffBox tutorialName="angular-meteor" step="4.4"}}

Сейчас мы связываем ng-click к функции области видимости, которая получает текущую вечеринку как параметр.

Зайдём в контроллер и добавим эту функцию.

Добавим функцию всередине PartiesListCtrl в `app.js`:

{{> DiffBox tutorialName="angular-meteor" step="4.5"}}

Попытаемся удалить несколько вечеринок и посмотрим как они удаляться из клиентов других браузеров.

# AngularMeteorCollection функции

$meteor.collection возвращает значение в новой коллекции типом [AngularMeteorCollection](/api/AngularMeteorCollection).

Она не только отвечает за обновление коллекции, но и также содержит функции хелперов для сохранения и удаления объектов.

Попробуем использовать эти хелпер-функции вместо текущей имплементации.

Заменим наш `push` на `save` в действии кнопки добавить:

{{> DiffBox tutorialName="angular-meteor" step="4.6"}}

Не многое изменилось, кроме маленького улучшения произодительности, но давайте теперь сменим нашу функцию удаления:

{{> DiffBox tutorialName="angular-meteor" step="4.7"}}

Намного лучше и значительно улучшилась производительность!

Добавить кнопку для удаления всех вечеринок:

{{> DiffBox tutorialName="angular-meteor" step="4.8"}}

не забываем добавить эту новую функцию к области видимости:

{{> DiffBox tutorialName="angular-meteor" step="4.9"}}

Снова, очень простой синтакс.

Можете прочитать больше про AngularMeteorCollection и её функции хелперы в [API reference](/api/AngularMeteorCollection).


# Итоги

Теперь вы видите как просто можно управлять данными используя мощные директивы Angular 1 и синхронизировать все данные с помощью Meteor Mongo.collection API.

{{/template}}
