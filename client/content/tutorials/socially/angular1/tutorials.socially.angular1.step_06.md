{{#template name="tutorials.socially.angular1.step_06.md"}}
{{> downloadPreviousStep stepName="step_05"}}

На этом этапе мы создадим детальный вид для отдельной вечеринки, который будет выводиться при нажатии пользователем на вечеринку в списке. 
Также пользователь сможет менять детали вечеринки.

Для создания вывода деталей вечеринки мы будем использовать `хелперы`.

Мы использовали `хелперы` в предыдущем Компоненте, но теперь мы продемонтсрируем как использовать его с одним объектом вместо Mongo.Collection cursor.

# Создание компонента

Мы расширим `partyDetails` используя метод `хелпер` и мы будем использовать [findOne](http://docs.meteor.com/#/full/findone) метод из Mongo.Collection, который возвращает один объект.

{{> DiffBox tutorialName="meteor-angular1-socially" step="6.1"}}

В нашем примере мы найдём нашу соответсвтующую вечеринку по её id и будем использоввать обычный MongoDB синтаксис для создания нашего `findOne` запроса, о котором можно почитать в документации Meteor [collection.findOne](http://docs.meteor.com/#/full/findone).

После декларирования этого хелпера нам нужно просто использовать `this.party` в нашем контроллере компонента или `partyDetails.party` в нашем HTML отображении.

# Шаблон компонента

В `party-details.html` давайте заменим связывание с `partyDetails.partyId` на связывание с `partyDetails.party.name` и `partyDetails.party.description`:

{{> DiffBox tutorialName="meteor-angular1-socially" step="6.2"}}

Мы использовали `ng-model` и создали форму всередине деталей вечеринки, теперь нам нехватает только кнопки "Сохранить"!

# Добавляем логику сохранения

Во-первых, добавим кнопку и будем использовать `ng-click` с названием метода, который мы будем разворачивать:

{{> DiffBox tutorialName="meteor-angular1-socially" step="6.3"}}

> Мы также добавили кнопку "Back" с использованием аттрибута `ui-sref` - это короткая запись для создания ссылки на состояние.

Давайте создадим логику кнопки "Save" в контроллере:

{{> DiffBox tutorialName="meteor-angular1-socially" step="6.4"}}

Мы использовали метод [Parties.update](http://docs.meteor.com/#/full/update) - это метод, который нам предоставлен объектом Mongo.Collection. 

Первый параметр - это вечеринки, которые нужно обновить, в этом случае, мы отправляем определённую id вечеринки, совсем как мы делали с `findOne`.

Во втором параметре мы определяем действие, которое нужно совершить, в нашем случае мы использовали оператор `$set` для обновления текущих относительных полей.

Также мы обработаем успех или провал, когда будем использовать `Parties.update` через добавление колбека как третьего аргумента, например:

{{> DiffBox tutorialName="meteor-angular1-socially" step="6.5"}}


# Итоги

Мы увидели силу использования Meteor.Collection API и как мы можем получать один объект из коллекции.

Также мы научились обновлять объект используя данные пользователя!

Давайте продолжим упорядочивая и структурируя наше приложение.

{{/template}}
